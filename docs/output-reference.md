# Output File Reference

This document provides a comprehensive reference for all output files generated by Lo-phi's feature reduction pipeline. Understanding these formats is essential for interpreting analysis results, auditing reduction decisions, and integrating Lo-phi into automated workflows.

## Overview

Lo-phi generates two categories of output files:

1. **Reduced Dataset** - The final dataset with dropped features removed (CSV or Parquet)
2. **Reduction Report Bundle** - A ZIP archive containing three analysis reports (JSON, CSV, and Gini analysis)

All output files are generated during the final stage of the [pipeline](architecture.md#stage-5-save-and-report) and written to the same directory as the input file. File names are derived from the input filename by appending `_reduced` and `_reduction_report` suffixes.

For example, processing `creditdata.csv` produces:
- `creditdata_reduced.csv` - The reduced dataset
- `creditdata_reduction_report.zip` - Bundled analysis reports

The ZIP bundle contains three files:
- `creditdata_gini_analysis.json` - Detailed [WoE](glossary.md#weight-of-evidence-woe) binning analysis per feature
- `creditdata_reduction_report.json` - Comprehensive reduction report with metadata and full analysis
- `creditdata_reduction_report.csv` - Human-readable summary table

## Reduced Dataset

### File Format

**Path:** `{input}_reduced.{csv|parquet}`

The reduced dataset preserves the original file format (CSV or Parquet) and contains:
- All rows from the input dataset (row count unchanged)
- Only features that survived all three reduction stages
- The target column (always retained)
- The weight column if specified (always retained)

### Column Selection Rules

Features are retained if they pass all three thresholds:
1. [Missing ratio](glossary.md#null-ratio) below `--missing-threshold` (default 0.30)
2. [Gini coefficient](glossary.md#gini-coefficient) above `--gini-threshold` (default 0.05)
3. Not selected for removal during [correlation analysis](glossary.md#pearson-correlation) (threshold default 0.40)

The following columns are always retained:
- Target column (specified via `--target`)
- Weight column (if specified via `--weight-column`)

### Data Preservation

The reduced dataset maintains:
- Original row order
- Original data types (numeric, string, boolean, etc.)
- Original null patterns (missing values are not imputed)
- Original value ranges (no scaling or transformation applied)

If the target column required mapping from non-binary values (e.g., "Yes"/"No" to 1/0), the reduced dataset contains the **mapped binary values** (0 and 1), not the original categorical values. See [target mapping documentation](user-guide.md#cli-mode-reference) for details.

## Reduction Report ZIP Bundle

### File Format

**Path:** `{input}_reduction_report.zip`

**Compression:** Deflate algorithm (ZIP standard compression)

**Contents:**
1. `{input}_gini_analysis.json` - Detailed Gini/IV analysis with WoE binning
2. `{input}_reduction_report.json` - Full reduction report with metadata
3. `{input}_reduction_report.csv` - Human-readable feature summary

The ZIP bundle uses standard ZIP64 format with 0o644 Unix permissions. After packaging, the three individual JSON/CSV files are deleted, leaving only the ZIP archive. The bundling logic is implemented in `src/report/reduction_report.rs` function `package_reduction_reports()`.

## Reduction Report JSON

### File Format

**Path (in ZIP):** `{input}_reduction_report.json`

**Encoding:** UTF-8 JSON with pretty-printing (4-space indentation)

The reduction report JSON contains a comprehensive analysis of all features processed during the pipeline. The root structure is a `ReductionReport` object with three top-level sections: `metadata`, `summary`, and `features`.

### Root Structure

```json
{
  "metadata": { /* ReportMetadata */ },
  "summary": { /* ReportSummary */ },
  "features": [ /* Array of FeatureReportEntry */ ]
}
```

### ReportMetadata Schema

Contains configuration and runtime context for the analysis.

| Field | Type | Description |
|-------|------|-------------|
| `timestamp` | String (ISO 8601) | Analysis execution timestamp in RFC3339 format (UTC) |
| `lophi_version` | String | Lo-phi version (e.g., "0.1.0") |
| `input_file` | String | Absolute or relative path to input dataset |
| `output_file` | String | Absolute or relative path to reduced output dataset |
| `thresholds` | Object | [ThresholdsConfig](#thresholdsconfig-schema) |
| `settings` | Object | [AnalysisSettings](#analysissettings-schema) |

#### ThresholdsConfig Schema

| Field | Type | Description |
|-------|------|-------------|
| `missing_ratio` | Number (0.0-1.0) | Threshold for [null ratio](glossary.md#null-ratio) (default 0.30) |
| `gini` | Number (0.0-1.0) | Threshold for [Gini coefficient](glossary.md#gini-coefficient) (default 0.05) |
| `correlation` | Number (0.0-1.0) | Threshold for [Pearson correlation](glossary.md#pearson-correlation) (default 0.40) |

#### AnalysisSettings Schema

| Field | Type | Description |
|-------|------|-------------|
| `target_column` | String | Name of the target column |
| `weight_column` | String or null | Name of the weight column (null if no weights) |
| `binning_strategy` | String | "cart" or "quantile" (see [binning strategies](algorithms.md#binning-strategies)) |
| `num_bins` | Integer | Target number of bins for Gini/IV analysis (default 10) |

### ReportSummary Schema

Contains aggregate statistics and timing breakdowns.

| Field | Type | Description |
|-------|------|-------------|
| `initial_features` | Integer | Total features before reduction (excludes target) |
| `final_features` | Integer | Total features after reduction (excludes target) |
| `dropped_count` | Integer | Total features dropped across all stages |
| `by_stage` | Object | [ByStage](#bystage-schema) breakdown |
| `timing` | Object | [TimingInfo](#timinginfo-schema) |

#### ByStage Schema

Per-stage drop counts and thresholds.

| Field | Type | Description |
|-------|------|-------------|
| `missing` | Object | [StageSummary](#stagesummary-schema) for missing analysis |
| `gini` | Object | [StageSummary](#stagesummary-schema) for Gini/IV analysis |
| `correlation` | Object | [StageSummary](#stagesummary-schema) for correlation analysis |

#### StageSummary Schema

| Field | Type | Description |
|-------|------|-------------|
| `dropped` | Integer | Number of features dropped at this stage |
| `threshold_used` | Number | Threshold value applied at this stage |

#### TimingInfo Schema

Execution time for each pipeline stage in milliseconds.

| Field | Type | Description |
|-------|------|-------------|
| `load_ms` | Integer | Dataset loading time (includes schema inference) |
| `missing_ms` | Integer | Missing value analysis time |
| `gini_ms` | Integer | Gini/IV analysis time (includes [WoE binning](glossary.md#binning)) |
| `correlation_ms` | Integer | Correlation analysis time |
| `save_ms` | Integer | Dataset saving time (includes report generation) |
| `total_ms` | Integer | Total pipeline execution time (sum of all stages) |

### FeatureReportEntry Schema

One entry per feature analyzed (sorted: kept features first, then by drop stage, then alphabetically).

| Field | Type | Description |
|-------|------|-------------|
| `name` | String | Feature name (column name from input dataset) |
| `status` | String | "kept" or "dropped" |
| `dropped_at_stage` | String or null | "missing", "gini", or "correlation" (null if kept) |
| `reason` | String or null | Human-readable drop reason (null if kept). Examples below. |
| `analysis` | Object | [FeatureAnalysis](#featureanalysis-schema) |

**Example Reasons:**
- `"Missing ratio 0.45 exceeded threshold 0.30"`
- `"Gini coefficient 0.0312 below threshold 0.05"`
- `"Correlated with income (r=0.9234), dropped due to higher correlation frequency"`

### FeatureAnalysis Schema

Contains analysis results for each stage (stages are omitted if the feature was dropped earlier).

| Field | Type | Description |
|-------|------|-------------|
| `missing` | Object or null | [MissingAnalysisEntry](#missinganalysisentry-schema) (always present) |
| `gini` | Object or null | [GiniAnalysisEntry](#ginianalysisentry-schema) (null if dropped at missing stage) |
| `correlation` | Object or null | [CorrelationAnalysisEntry](#correlationanalysisentry-schema) (null if dropped at missing/gini stage) |

#### MissingAnalysisEntry Schema

| Field | Type | Description |
|-------|------|-------------|
| `ratio` | Number (0.0-1.0) | Weighted [null ratio](glossary.md#null-ratio) for this feature |
| `threshold` | Number (0.0-1.0) | Threshold applied (from `--missing-threshold`) |
| `passed` | Boolean | `true` if ratio ≤ threshold, `false` otherwise |

#### GiniAnalysisEntry Schema

| Field | Type | Description |
|-------|------|-------------|
| `gini` | Number (0.0-1.0) | [Gini coefficient](glossary.md#gini-coefficient) (see [formula](algorithms.md#gini-coefficient)) |
| `iv` | Number (≥ 0.0) | [Information Value](glossary.md#information-value-iv) (see [formula](algorithms.md#information-value-iv-calculation)) |
| `threshold` | Number (0.0-1.0) | Threshold applied (from `--gini-threshold`) |
| `passed` | Boolean | `true` if gini ≥ threshold, `false` otherwise |
| `feature_type` | String | "Numeric" or "Categorical" |

#### CorrelationAnalysisEntry Schema

| Field | Type | Description |
|-------|------|-------------|
| `max_correlation` | Number or null | Highest absolute correlation with any other feature (null if no correlations) |
| `correlated_with` | String or null | Name of feature with highest correlation (null if no correlations) |
| `threshold` | Number (0.0-1.0) | Threshold applied (from `--correlation-threshold`) |
| `passed` | Boolean | `true` if not selected for removal, `false` otherwise |
| `all_correlations` | Array | Array of [CorrelationEntry](#correlationentry-schema) (empty if no correlations) |

#### CorrelationEntry Schema

| Field | Type | Description |
|-------|------|-------------|
| `feature` | String | Name of correlated feature |
| `correlation` | Number (-1.0 to 1.0) | [Pearson correlation coefficient](glossary.md#pearson-correlation) (signed value) |

Entries are sorted by absolute correlation descending.

### Example JSON Snippet

```json
{
  "metadata": {
    "timestamp": "2025-01-15T14:32:10.123456Z",
    "lophi_version": "0.1.0",
    "input_file": "creditdata.csv",
    "output_file": "creditdata_reduced.csv",
    "thresholds": {
      "missing_ratio": 0.3,
      "gini": 0.05,
      "correlation": 0.4
    },
    "settings": {
      "target_column": "default_flag",
      "weight_column": null,
      "binning_strategy": "cart",
      "num_bins": 10
    }
  },
  "summary": {
    "initial_features": 45,
    "final_features": 28,
    "dropped_count": 17,
    "by_stage": {
      "missing": { "dropped": 5, "threshold_used": 0.3 },
      "gini": { "dropped": 8, "threshold_used": 0.05 },
      "correlation": { "dropped": 4, "threshold_used": 0.4 }
    },
    "timing": {
      "load_ms": 1234,
      "missing_ms": 56,
      "gini_ms": 4567,
      "correlation_ms": 890,
      "save_ms": 234,
      "total_ms": 6981
    }
  },
  "features": [
    {
      "name": "income",
      "status": "kept",
      "dropped_at_stage": null,
      "reason": null,
      "analysis": {
        "missing": { "ratio": 0.02, "threshold": 0.3, "passed": true },
        "gini": { "gini": 0.3245, "iv": 0.8123, "threshold": 0.05, "passed": true, "feature_type": "Numeric" },
        "correlation": {
          "max_correlation": 0.3567,
          "correlated_with": "salary",
          "threshold": 0.4,
          "passed": true,
          "all_correlations": [
            { "feature": "salary", "correlation": 0.3567 }
          ]
        }
      }
    },
    {
      "name": "postal_code",
      "status": "dropped",
      "dropped_at_stage": "missing",
      "reason": "Missing ratio 0.67 exceeded threshold 0.30",
      "analysis": {
        "missing": { "ratio": 0.67, "threshold": 0.3, "passed": false },
        "gini": null,
        "correlation": null
      }
    }
  ]
}
```

## Gini Analysis JSON

### File Format

**Path (in ZIP):** `{input}_gini_analysis.json`

**Encoding:** UTF-8 JSON with pretty-printing (4-space indentation)

The Gini analysis JSON provides detailed [WoE binning](glossary.md#weight-of-evidence-woe) results for all features analyzed during the Gini/IV stage. This file is the most detailed output and is primarily used for model interpretation, manual binning review, and scorecard development.

### Root Structure

```json
{
  "metadata": { /* AnalysisMetadata */ },
  "summary": { /* AnalysisSummary */ },
  "features": [ /* Array of GiniExportEntry */ ]
}
```

### AnalysisMetadata Schema

Similar to `ReportMetadata` but includes binning-specific parameters.

| Field | Type | Description |
|-------|------|-------------|
| `timestamp` | String (ISO 8601) | Analysis execution timestamp |
| `lophi_version` | String | Lo-phi version |
| `input_file` | String | Path to input dataset |
| `target_column` | String | Name of target column |
| `weight_column` | String or null | Name of weight column (null if no weights) |
| `binning_strategy` | String | "cart" or "quantile" |
| `num_bins` | Integer | Target number of bins (default 10) |
| `gini_threshold` | Number | Gini threshold for dropping features |
| `min_category_samples` | Integer | Minimum samples per category before merging (default 5) |
| `cart_min_bin_pct` | Number or null | CART minimum bin percentage (null if quantile strategy) |

### AnalysisSummary Schema

Aggregate statistics for the Gini analysis stage.

| Field | Type | Description |
|-------|------|-------------|
| `total_features_analyzed` | Integer | Total features analyzed in this stage |
| `numeric_features` | Integer | Count of numeric features |
| `categorical_features` | Integer | Count of categorical features |
| `features_dropped` | Integer | Count of features dropped due to low Gini |
| `features_kept` | Integer | Count of features kept |
| `avg_iv` | Number | Mean [IV](glossary.md#information-value-iv) across all features |
| `avg_gini` | Number | Mean [Gini](glossary.md#gini-coefficient) across all features |

### GiniExportEntry Schema

One entry per feature with full [IvAnalysis](#ivanalysis-schema) flattened.

| Field | Type | Description |
|-------|------|-------------|
| `feature_name` | String | Feature name |
| `feature_type` | String | "Numeric" or "Categorical" |
| `bins` | Array | Array of [WoeBin](#woebin-schema) (numeric features only, empty for categorical) |
| `categories` | Array | Array of [CategoricalWoeBin](#categoricalwoebin-schema) (categorical features only, empty for numeric) |
| `missing_bin` | Object or null | [MissingBin](#missingbin-schema) (null if no missing values) |
| `iv` | Number | Total [Information Value](glossary.md#information-value-iv) |
| `gini` | Number | [Gini coefficient](glossary.md#gini-coefficient) |
| `dropped` | Boolean | `true` if feature was dropped at Gini stage |

### IvAnalysis Schema

This is the core struct containing WoE binning results. It appears flattened in `GiniExportEntry`.

| Field | Type | Description |
|-------|------|-------------|
| `feature_name` | String | Feature name |
| `feature_type` | String | "Numeric" or "Categorical" |
| `bins` | Array | [WoeBin](#woebin-schema) array (empty if categorical) |
| `categories` | Array | [CategoricalWoeBin](#categoricalwoebin-schema) array (empty if numeric) |
| `missing_bin` | Object or null | [MissingBin](#missingbin-schema) |
| `iv` | Number | Total IV (sum of `iv_contribution` across all bins/categories/missing) |
| `gini` | Number | Gini coefficient calculated from WoE-encoded values |

### WoeBin Schema

Represents one bin for numeric features.

| Field | Type | Description |
|-------|------|-------------|
| `lower_bound` | Number | Inclusive lower bound |
| `upper_bound` | Number | Exclusive upper bound (except last bin, which is inclusive) |
| `events` | Number | Weighted count of events (target = 1) in this bin |
| `non_events` | Number | Weighted count of non-events (target = 0) in this bin |
| `woe` | Number | [Weight of Evidence](glossary.md#weight-of-evidence-woe) (see [formula](algorithms.md#weight-of-evidence-woe-binning)) |
| `iv_contribution` | Number | This bin's contribution to total IV |
| `count` | Number | Weighted total samples in bin (`events + non_events`) |
| `population_pct` | Number | Percentage of total population in this bin (0.0-100.0) |
| `event_rate` | Number | [Event rate](glossary.md#event-rate) (`events / count`) |

### CategoricalWoeBin Schema

Represents one category or merged category group for categorical features.

| Field | Type | Description |
|-------|------|-------------|
| `category` | String | Single category value (empty string if merged bin) |
| `categories` | Array of Strings | Multiple category values for CART-merged bins (empty if single category) |
| `events` | Number | Weighted count of events in this category |
| `non_events` | Number | Weighted count of non-events in this category |
| `woe` | Number | [Weight of Evidence](glossary.md#weight-of-evidence-woe) |
| `iv_contribution` | Number | This category's contribution to total IV |
| `count` | Number | Weighted total samples in category |
| `population_pct` | Number | Percentage of total population (0.0-100.0) |
| `event_rate` | Number | [Event rate](glossary.md#event-rate) |

**Note:** Either `category` or `categories` is populated, never both. Quantile binning produces single-category bins (`category` populated). CART binning with [solver](glossary.md#solver) produces merged bins (`categories` populated).

### MissingBin Schema

Represents the special bin for null/missing values.

| Field | Type | Description |
|-------|------|-------------|
| `events` | Number | Weighted count of events with missing feature values |
| `non_events` | Number | Weighted count of non-events with missing feature values |
| `woe` | Number | [Weight of Evidence](glossary.md#weight-of-evidence-woe) for missing values |
| `iv_contribution` | Number | Missing bin's contribution to total IV |
| `count` | Number | Weighted total samples with missing values |
| `population_pct` | Number | Percentage of total population with missing values (0.0-100.0) |
| `event_rate` | Number | [Event rate](glossary.md#event-rate) for missing values |

### Example Gini JSON Snippet

```json
{
  "metadata": {
    "timestamp": "2025-01-15T14:32:07.456789Z",
    "lophi_version": "0.1.0",
    "input_file": "creditdata.csv",
    "target_column": "default_flag",
    "weight_column": null,
    "binning_strategy": "cart",
    "num_bins": 10,
    "gini_threshold": 0.05,
    "min_category_samples": 5,
    "cart_min_bin_pct": 5.0
  },
  "summary": {
    "total_features_analyzed": 40,
    "numeric_features": 32,
    "categorical_features": 8,
    "features_dropped": 8,
    "features_kept": 32,
    "avg_iv": 0.2134,
    "avg_gini": 0.1567
  },
  "features": [
    {
      "feature_name": "age",
      "feature_type": "Numeric",
      "bins": [
        {
          "lower_bound": 18.0,
          "upper_bound": 25.0,
          "events": 150.0,
          "non_events": 850.0,
          "woe": 0.2345,
          "iv_contribution": 0.0123,
          "count": 1000.0,
          "population_pct": 10.0,
          "event_rate": 0.15
        },
        {
          "lower_bound": 25.0,
          "upper_bound": 35.0,
          "events": 200.0,
          "non_events": 1800.0,
          "woe": -0.1234,
          "iv_contribution": 0.0089,
          "count": 2000.0,
          "population_pct": 20.0,
          "event_rate": 0.10
        }
      ],
      "categories": [],
      "missing_bin": {
        "events": 5.0,
        "non_events": 45.0,
        "woe": -0.5678,
        "iv_contribution": 0.0012,
        "count": 50.0,
        "population_pct": 0.5,
        "event_rate": 0.10
      },
      "iv": 0.4567,
      "gini": 0.2890,
      "dropped": false
    },
    {
      "feature_name": "region",
      "feature_type": "Categorical",
      "bins": [],
      "categories": [
        {
          "category": "NORTH",
          "categories": [],
          "events": 100.0,
          "non_events": 900.0,
          "woe": -0.4567,
          "iv_contribution": 0.0234,
          "count": 1000.0,
          "population_pct": 10.0,
          "event_rate": 0.10
        },
        {
          "category": "",
          "categories": ["SOUTH", "EAST"],
          "events": 300.0,
          "non_events": 1700.0,
          "woe": 0.1234,
          "iv_contribution": 0.0156,
          "count": 2000.0,
          "population_pct": 20.0,
          "event_rate": 0.15
        }
      ],
      "missing_bin": null,
      "iv": 0.1890,
      "gini": 0.1123,
      "dropped": false
    }
  ]
}
```

## Reduction Report CSV

### File Format

**Path (in ZIP):** `{input}_reduction_report.csv`

**Encoding:** UTF-8 CSV with header row

**Purpose:** Human-readable summary table with one row per feature. Designed for quick review in spreadsheet applications and manual auditing of reduction decisions.

### Column Schema

| Column | Type | Description |
|--------|------|-------------|
| `feature` | String | Feature name |
| `status` | String | "kept" or "dropped" |
| `dropped_at_stage` | String | "missing", "gini", "correlation", or empty string (if kept) |
| `reason` | String | Human-readable drop reason (quoted if contains commas), or empty string (if kept) |
| `missing_ratio` | Number | Weighted [null ratio](glossary.md#null-ratio) (0.0000 format), or empty (if not analyzed) |
| `gini` | Number | [Gini coefficient](glossary.md#gini-coefficient) (0.0000 format), or empty (if not analyzed) |
| `iv` | Number | [Information Value](glossary.md#information-value-iv) (0.0000 format), or empty (if not analyzed) |
| `feature_type` | String | "Numeric" or "Categorical", or empty (if not analyzed) |
| `max_correlation` | Number | Highest absolute correlation (0.0000 format), or empty (if not analyzed) |
| `correlated_with` | String | Pipe-separated list of correlated features with coefficients, or empty (if no correlations) |

**Notes:**
- Features are sorted: kept features first, then by drop stage (missing → gini → correlation), then alphabetically
- Empty cells represent stages not reached (e.g., a feature dropped at missing stage has empty `gini`, `iv`, `feature_type`, etc.)
- All numeric values use 4 decimal places for consistency

### Correlated With Format

The `correlated_with` column uses a pipe-separated format to list all features exceeding the correlation threshold:

```
feature1: 0.9234 | feature2: 0.8812 | feature3: 0.4501
```

This format is designed for clarity when viewed in spreadsheet applications (Excel, Google Sheets, etc.). The entire cell is quoted if it contains multiple correlations or commas.

**Example:**
```csv
"income: 0.9234 | salary: 0.8812"
```

### Example CSV

```csv
feature,status,dropped_at_stage,reason,missing_ratio,gini,iv,feature_type,max_correlation,correlated_with
income,kept,,"",0.0200,0.3245,0.8123,Numeric,0.3567,salary: 0.3567
age,kept,,"",0.0050,0.2890,0.4567,Numeric,0.1234,
region,kept,,"",0.0000,0.1123,0.1890,Categorical,,
postal_code,dropped,missing,"Missing ratio 0.67 exceeded threshold 0.30",0.6700,,,,
customer_id,dropped,gini,"Gini coefficient 0.0120 below threshold 0.05",0.0000,0.0120,0.0098,Categorical,,
salary,dropped,correlation,"Correlated with income (r=0.9234), dropped due to higher correlation frequency",0.0200,0.3100,0.7890,Numeric,0.9234,"income: 0.9234"
```

## Interpreting Results

### Information Value Thresholds

Lo-phi uses standard IV interpretation from credit scoring literature (see [IV formula](algorithms.md#information-value-iv-calculation)):

| IV Range | Predictive Power | Recommendation |
|----------|------------------|----------------|
| < 0.02 | Not predictive | Drop feature |
| 0.02 - 0.1 | Weak | Consider dropping unless domain knowledge suggests importance |
| 0.1 - 0.3 | Medium | Keep feature |
| 0.3 - 0.5 | Strong | Keep feature (highly predictive) |
| ≥ 0.5 | Very strong (suspect) | Investigate for data leakage before using |

Features with IV ≥ 0.5 should be manually reviewed. Such high IV may indicate:
- Data leakage (feature is derived from target or contains future information)
- Perfect separation (feature deterministically predicts target)
- Data quality issues (duplicate columns, encoding errors)

### Weight of Evidence Interpretation

[WoE](glossary.md#weight-of-evidence-woe) values quantify risk per bin (see [WoE formula](algorithms.md#weight-of-evidence-woe-binning)):

- **WoE > 0**: Bin has higher event rate than overall population (indicates higher risk)
- **WoE < 0**: Bin has lower event rate than overall population (indicates lower risk)
- **WoE ≈ 0**: Bin's event rate matches overall population (neutral)

**Example:** For a credit default model:
- Age 18-25 with WoE = +0.45 → Young customers have higher default rate
- Age 45-65 with WoE = -0.30 → Middle-aged customers have lower default rate

WoE values are always calculated using Laplace smoothing (`SMOOTHING = 0.5`) to prevent undefined logarithms. See [Laplace smoothing](glossary.md#laplace-smoothing) in the glossary.

### Correlation Interpretation

[Pearson correlation](glossary.md#pearson-correlation) coefficients range from -1 to +1:

| Correlation | Interpretation | Action |
|-------------|----------------|--------|
| 0.0 - 0.2 | Very weak | Features are nearly independent (both kept) |
| 0.2 - 0.4 | Weak to moderate | Features share some information (both kept by default) |
| 0.4 - 0.7 | Moderate to strong | Features are redundant (one dropped) |
| 0.7 - 1.0 | Very strong | Features are highly redundant (one dropped) |

When a feature is dropped due to correlation, the `reason` field indicates which feature it was correlated with and the correlation coefficient. The **correlation frequency heuristic** drops the feature appearing in more correlated pairs, preserving the most unique features.

**Example:** If `income` is correlated with both `salary` (r=0.92) and `total_compensation` (r=0.85), but `salary` is only correlated with `income`, then `income` is dropped (appears in 2 pairs) and `salary` is kept (appears in 1 pair).

### Gini Coefficient Interpretation

[Gini coefficient](glossary.md#gini-coefficient) ranges from 0 (no discrimination) to 1 (perfect discrimination). It is related to AUC by Gini = 2*AUC - 1 (see [Gini formula](algorithms.md#gini-coefficient)).

| Gini Range | Discriminatory Power | Recommendation |
|------------|----------------------|----------------|
| < 0.05 | Very weak | Drop feature (default threshold) |
| 0.05 - 0.20 | Weak | Keep but consider removal if model complexity is an issue |
| 0.20 - 0.40 | Moderate | Keep feature |
| 0.40 - 0.60 | Strong | Keep feature (highly discriminatory) |
| > 0.60 | Very strong | Investigate for data leakage |

The default Gini threshold of 0.05 corresponds to AUC ≈ 0.525, indicating minimal discriminatory power above random chance.

## See Also

- [Algorithm Reference](algorithms.md) - Detailed formulas for WoE, IV, Gini, and correlation
- [Glossary](glossary.md) - Definitions of domain-specific terms
- [User Guide](user-guide.md) - CLI parameters and usage examples
- [Architecture](architecture.md) - Pipeline stages and module structure
